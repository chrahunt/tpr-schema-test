var replays = [
  {
    name: "replays1415577218207.json",
    path: "..\\data\\replays1415577218207.json"
  }/*,
  {
    name: "replays1415577218207-missing.json",
    path: "..\\validation\\replays1415577218207-missing.json"
  }*/
];

var replays = [
  "replays1415577218207.json",
  "replays1415578068908.json",
  "replays1415578553080.json",
  "replays1415923291777.json",
  "replays1416190153945.json",
  "replays1416190549682.json",
  "replays1419307562826.json",
  "replays1419307715830.json",
  "replays1419308660575.json",
  "replays1419308857980.json",
  "replays1419381947406.json",
  "replays1419382224047.json",
  "replays1419473438340.json",
  "replays1419474432651.json",
  "replays1419476227007.json",
  "replays1419476920111.json",
  "replays1419476988677.json",
  "replays1419477024442.json",
  "replays1419478183063.json",
  "replays1419478383569.json",
  "replays1419478425142.json",
  "replays1419478707055.json",
  "replays1419478743290.json",
  "replays1419478758672.json",
  "replays1419479571817.json",
  "replays1419720150070.json",
  "replays1419810152836.json",
  "replays1419810154739.json",
  "replays1419810249136.json",
  "replays1419810601798.json",
  "replays1419811181229.json",
  "replays1419811209939.json",
  "replays1419811669562.json",
  "replays1419813841708.json",
  "replays1419816025272.json",
  "replays1419816027236.json",
  "replays1419816506147.json",
  "replays1419816804066.json",
  "replays1419816928016.json",
  "replays1419817836924.json",
  "replays1419818098777.json",
  "replays1419898860157.json",
  "replays1419899142708.json",
  "replays1419899739844.json",
  "replays1419901123548.json",
  "replays1419901223835.json",
  "replays1419901639388.json",
  "replays1419901833548.json",
  "replays1419903989593.json",
  "replays1419904204609.json",
  "replays1419904259436.json",
  "replays1419905040211.json",
  "replays1419905353549.json",
  "replays1419909367335.json",
  "replays1419909659717.json",
  "replays1419909705182.json",
  "replays1419910606790.json",
  "replays1420249414515.json",
  "replays1420249691588.json",
  "replays1420249904798.json",
  "replays1420420418590.json",
  "replays1420420573920.json",
  "replays1420420842532.json",
  "replays1420421917310.json",
  "replays1420421962999.json",
  "replays1420422002866.json",
  "replays1420422018536.json",
  "replays1420422209860.json",
  "replays1420422277476.json",
  "replays1420507288203.json",
  "replays1420507505171.json",
  "replays1420507838723.json",
  "replays1420510173341.json",
  "replays1420514363086.json",
  "replays1420681432317.json",
  "replays1420681875019.json",
  "replays1420682075269.json",
  "replays1420682411969.json",
  "replays1420683173553.json",
  "replays1420683186240.json",
  "replays1420683364779.json",
  "replays1420684186394.json",
  "replays1420686606994.json",
  "replays1420686732924.json",
  "replays1420686891035.json",
  "replays1420687044392.json",
  "replays1420687444226.json",
  "replays1420687940933.json",
  "replays1420688126721.json",
  "replays1420763340236.json",
  "replays1420763501813.json",
  "replays1420763659408.json",
  "replays1420763857663.json",
  "replays1420763901428.json",
  "replays1420764327855.json",
  "replays1420764446453.json",
  "replays1420764537949.json",
  "replays1420764701028.json",
  "replays1420765765598.json",
  "replays1420765895082.json",
  "replays1420765945596.json",
  "replays1420765956486.json",
  "replays1420766077091.json",
  "replays1420766593215.json",
  "replays1420766928577.json",
  "replays1420767077584.json",
  "replays1420767162877.json",
  "replays1420767308445.json",
  "replays1420848416273.json",
  "replays1420848418526.json",
  "replays1420850685162.json",
  "replays1420851821359.json",
  "replays1420852181117.json",
  "replays1420852197596.json",
  "replays1420852372645.json",
  "replays1420852431232.json",
  "replays1420852886168.json",
  "replays1420853204372.json",
  "replays1420853219222.json",
  "replays1420853387283.json",
  "replays1420853939458.json",
  "replays1420853955108.json",
  "replays1420854003341.json",
  "replays1420854046513.json",
  "replays1420854254992.json",
  "replays1420854338960.json",
  "replays1420854416349.json",
  "replays1420854427491.json",
  "replays1420855522657.json",
  "replays1420855953793.json",
  "replays1420856080008.json",
  "replays1420857751097.json",
  "replays1421027499697.json",
  "replays1421028920288.json",
  "replays1421028945722.json",
  "replays1421029142399.json",
  "replays1421029281876.json",
  "replays1421030178090.json",
  "replays1421030190626.json",
  "replays1421030444973.json",
  "replays1421031009625.json",
  "replays1421112748871.json",
  "replays1421113039562.json",
  "replays1421113294201.json",
  "replays1421113385608.json",
  "replays1421113393844.json",
  "replays1421113399197.json",
  "replays1421113525980.json",
  "replays1421113633103.json",
  "replays1421113662455.json",
  "replays1421114209852.json",
  "replays1421114586565.json",
  "replays1421115014655.json",
  "replays1421115465501.json",
  "replays1421115506663.json",
  "replays1421115547263.json",
  "replays1421115642926.json",
  "replays1421115711784.json",
  "replays1421116097370.json",
  "replays1421116667763.json",
  "replays1421117084765.json",
  "replays1421117138639.json",
  "replays1421117177508.json",
  "replays1421117190568.json",
  "replays1421117358448.json",
  "replays1421117372325.json",
  "replays1421117383324.json",
  "replays1421117469760.json",
  "replays1421117549332.json",
  "replays1421121218517.json",
  "replays1421121641034.json",
  "replays1421121650827.json",
  "replays1421121750041.json",
  "replays1421189090203.json",
  "replays1421193418976.json",
  "replays1421193617101.json",
  "replays1421193831303.json",
  "replays1421203030680.json",
  "replays1421285504984.json",
  "replays1421291349023.json",
  "replays1421291961540.json",
  "replays1421364169931.json",
  "replays1421364173368.json",
  "replays1421365590119.json",
  "replays1421366178320.json",
  "replays1421366259678.json",
  "replays1421366262456.json",
  "replays1421366616610.json",
  "replays1421366661763.json",
  "replays1421372776093.json",
  "replays1421531424394.json",
  "replays1421532266776.json",
  "replays1421532348763.json",
  "replays1421532659361.json",
  "replays1421532828633.json",
  "replays1421532912055.json",
  "replays1421533469260.json",
  "replays1421534964322.json",
  "replays1421535294179.json",
  "replays1421538422033.json",
  "replays1421547109896.json",
  "replays1421548159937.json",
  "replays1421548323923.json",
  "replays1421548771233.json",
  "replays1421549113796.json",
  "replays1421549391698.json",
  "replays1421624914332.json",
  "replays1421625824917.json",
  "replays1421625881710.json",
  "replays1421625970902.json",
  "replays1421627078661.json",
  "replays1421627166802.json",
  "replays1421627186854.json",
  "replays1421627636985.json",
  "replays1421627719823.json",
  "replays1421630669219.json",
  "replays1421631219457.json",
  "replays1421631641729.json",
  "replays1421633627713.json",
  "replays1421635634199.json",
  "replays1421637685813.json",
  "replays1421637865706.json",
  "replays1421637889893.json",
  "replays1421795616377.json",
  "replays1421795916738.json",
  "replays1421888223836.json",
  "replays1421888225302.json",
  "replays1421888294708.json",
  "replays1421888432253.json",
  "replays1421890445327.json",
  "replays1421890610918.json",
  "replays1421891184212.json",
  "replays1421965408641.json",
  "replays1421965822784.json",
  "replays1421968315133.json",
  "replays1421968551998.json",
  "replays1421969052231.json",
  "replays1421969338141.json",
  "replays1421969947509.json",
  "replays1421970015608.json",
  "replays1421970039195.json",
  "replays1421970132918.json",
  "replays1421970335207.json",
  "replays1421970365158.json",
  "replays1422057041364.json",
  "replays1422057273678.json",
  "replays1422057719532.json",
  "replays1422057825463.json",
  "replays1422058779005.json",
  "replays1422058924351.json",
  "replays1422059097962.json",
  "replays1422059098903.json",
  "replays1422059405693.json",
  "replays1422059443394.json",
  "replays1422059489628.json",
  "replays1422059646416.json",
  "replays1422060168544.json",
  "replays1422060317609.json",
  "replays1422060630787.json",
  "replays1422064266859.json",
  "replays1422064377619.json",
  "replays1422064388786.json",
  "replays1422064399390.json",
  "replays1422064667258.json",
  "replays1422065008265.json",
  "replays1422066141870.json",
  "replays1422066601010.json",
  "replays1422069216431.json",
  "replays1422069363044.json",
  "replays1422069529741.json",
  "replays1422069632039.json",
  "replays1422069759603.json",
  "replays1422143689907.json",
  "replays1422144487685.json",
  "replays1422144539216.json",
  "replays1422144555356.json",
  "replays1422144750783.json",
  "replays1422144914553.json",
  "replays1422146476550.json",
  "replays1422146870616.json",
  "replays1422147002853.json",
  "replays1422147004496.json",
  "replays1422147081854.json",
  "replays1422147090095.json",
  "replays1422147094623.json",
  "replays1422147175034.json",
  "replays1422147214136.json",
  "replays1422147225253.json",
  "replays1422147688828.json",
  "replays1422149103016.json",
  "replays1422149150098.json",
  "replays1422149431423.json",
  "replays1422149586229.json",
  "replays1422220150443.json",
  "replays1422220174432.json",
  "replays1422220181159.json",
  "replays1422220184038.json",
  "replays1422220815654.json",
  "replays1422220893960.json",
  "replays1422220971630.json",
  "replays1422220979710.json",
  "replays1422221086833.json",
  "replays1422221192142.json",
  "replays1422221292690.json",
  "replays1422221385134.json",
  "replays1422221393581.json",
  "replays1422229691290.json",
  "replays1422229761924.json",
  "replays1422229766041.json",
  "replays1422229780087.json",
  "replays1422229876672.json",
  "replays1422230024993.json",
  "replays1422230035073.json",
  "replays1422230170651.json"
];

var error_replays = [
  "replays1415578068908.json",
  "replays1416190153945.json",
  "replays1415923291777.json",
  "replays1416190549682.json",
  "replays1419308857980.json",
  "replays1419810154739.json",
  "replays1419810152836.json",
  "replays1419901833548.json",
  "replays1420249414515.json",
  "replays1420421917310.json",
  "replays1420764446453.json",
  "replays1420764327855.json",
  "replays1420765945596.json",
  "replays1420765956486.json",
  "replays1420848416273.json",
  "replays1420848418526.json",
  "replays1420850685162.json",
  "replays1420854416349.json",
  "replays1420854427491.json",
  "replays1421030190626.json",
  "replays1421112748871.json",
  "replays1421193418976.json",
  "replays1421193617101.json",
  "replays1421291961540.json",
  "replays1421291349023.json",
  "replays1421531424394.json",
  "replays1421535294179.json",
  "replays1421631641729.json",
  "replays1421633627713.json",
  "replays1421888432253.json",
  "replays1421968315133.json",
  "replays1422057273678.json",
  "replays1422057825463.json",
  "replays1422059646416.json",
  "replays1422065008265.json",
  "replays1422230170651.json"
];

var path = "..\\data\\";
var total = 0;
error_replays.slice(0, 1).forEach(function(info, i) {
  $.getJSON(path + info, function(data) {
    var replay = {
      name: info,
      data: data
    };
    var start = performance.now();
    convertReplay(replay, function(err) {
      var end = performance.now();
      var duration = end - start;
      if (err) {
        console.log("Replay " + info + " had error.");
      }
      console.log("Done with replay " + i + " in " + duration + " ms.");
      total += duration;
      if (i === replays.length - 1) {
        console.log("Total duration for conversion of " + replays.length +
          " replays: " + total + " ms.");
      }
    });
  });
});
